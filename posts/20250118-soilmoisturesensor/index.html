<!doctype html>
<html class="not-ready lg:text-base overflow-y-scroll scroll-pt-14" lang="en">

<head prefix="og: https://ogp.me/ns# article: https://ogp.me/ns/article#">
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="generator" content="Zola" />
  <title>Smart Plant: Soil Moisture Sensor | OnBIM</title>
  <meta property="og:site_name" content="OnBIM" />
  <meta property="og:title" content="Smart Plant: Soil Moisture Sensor" />
  <meta name="description" content="Last year, I started using my indoor grow tent to plant edible vegetables and, at the same time, implement a control system using IoT. For this, I chose Arduino for its ease of programming and learnin…" />
  <meta property="og:description" content="Last year, I started using my indoor grow tent to plant edible vegetables and, at the same time, implement a control system using IoT. For this, I chose Arduino for its ease of programming and learning in prototyping. The system works very well, but little by little I have been iterating components …" />
  <meta property="og:url" content="http://ocar.engineer/posts/20250118-soilmoisturesensor/" />
  <link rel="canonical" href="http://ocar.engineer/posts/20250118-soilmoisturesensor/" />
  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2025-01-18T00:00:00+00:00" />
  <meta property="article:tag" content="Arduino" />
  <meta property="article:tag" content="Gardening" />
  <meta property="article:tag" content="Log" />
  <meta property="article:tag" content="SmartPlant" />
  <meta property="article:tag" content="IoT" />
  <meta property="og:image" content="http://ocar.engineer/img/2025-SmartPlant/Sensor2.jpg" />
  <meta property="og:image:alt" content="Himidity Sensors" />
  <meta property="og:image:width" content="768" />
  <meta property="og:image:height" content="288" />
  <link rel="alternate" type="application/atom+xml" href="http://ocar.engineer/atom.xml" title="OnBIM | Atom" />
  <link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed" />
  <!-- Begin Head inject -->
  
  <!-- End Head inject -->
  <link rel="stylesheet" href="http://ocar.engineer/main.min.css?h=fc65ba308cf36d3ba82c" />
  <style>
  :root{--bg: #f4f4f5; --header: #e4e4e7; color-scheme: light;}
  :root.dark{--bg: #18181b; --header: #27272a; color-scheme: dark;}
  </style>
  <meta name="theme-color" data-light="#e4e4e7" data-dark="#27272a" content="#e4e4e7" />
  <link rel="icon" type="image/x-icon" sizes="16x16" href="http://ocar.engineer/favicon.ico" />
  <link rel="apple-touch-icon" type="image/png" href="http://ocar.engineer/apple-touch-icon.png?h=58bee300054c5308feb3" />
  <link rel="icon" type="image/png" href="http://ocar.engineer/android-icon.png?h=8d80ec95446bd2c36826" />
  <script src="http://ocar.engineer/js/linkita.min.js?h=1dd3ed42fc674277bc34"></script>
  <!-- Begin Head End inject -->
  
  <!-- End Head End inject -->
</head>

<body class="text-black duration-100 ease-out bg-[var(--bg)] dark:text-white">
  <!-- Header -->
<header class="bg-[var(--header)] fixed top-0 z-40 mx-auto min-h-[3.25rem] w-full header-icons">
  <div class="mx-auto w-full max-w-4xl p-2.5 lg:flex lg:justify-between">
    <div class="flex justify-between">
      <div class="flex items-center min-h-8">
        <a title="Go to home page" accesskey="!"
          href="http://ocar.engineer/" class="text-2xl font-semibold">OnBIM</a>
        <button type="button" title="Switch color scheme" accesskey="$"
          onclick="window.linkita.toggleDarkMode();" ondblclick="window.linkita.resetDarkMode();"
          class="btn-dark ml-4 h-6 w-6 shrink-0 cursor-pointer text-[0] bg-center bg-no-repeat bg-cover dark:invert [background-image:var(--icon-theme-dark)] dark:[background-image:var(--icon-theme-light)]"
        ></button>
      </div>
      <div title="Menu" role="button" accesskey="+" tabindex="0"
        class="btn-menu relative z-50 flex h-8 w-8 shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden"
        onclick="window.linkita.toggleHeaderMenu();"
        onkeydown="(event.keyCode == 13 || event.keyCode == 32) ? event.preventDefault() || window.linkita.toggleHeaderMenu() : true;"
      ></div>
    </div>
    <nav class="flex w-full items-center lg:w-auto">
      <menu
        class="nav-wrapper flex w-full flex-col py-2 lg:w-auto lg:flex-row lg:self-center lg:py-0">
        <li>
          <a
            class="primary-link block py-2 text-center text-lg font-medium lg:px-3 lg:py-0"
            href="http://ocar.engineer/posts/"
          >Archive</a>
        </li>
        <li>
          <a
            class="primary-link block py-2 text-center text-lg font-medium lg:px-3 lg:py-0"
            href="http://ocar.engineer/tags/"
          >Tags</a>
        </li>
        <li>
          <a
            class="primary-link block py-2 text-center text-lg font-medium lg:px-3 lg:py-0"
            href="http://ocar.engineer/about/"
          >About</a>
        </li>
      </menu>
      <!-- Begin Header Nav inject -->
      
      <!-- End Header Nav inject -->
    </nav>
  </div>
</header>

  <!-- Begin Body Start inject -->
  
  <!-- End Body Start inject -->
  <main class="prose prose-neutral relative mx-auto min-h-[calc(100%-4rem)]
    max-w-3xl break-words px-4 pb-12 pt-28 lg:pt-32 dark:prose-invert prose-pre:rounded-lg prose-img:rounded-lg">
    
<article>
  <!-- Begin Page Start inject -->
  
  <!-- End Page Start inject -->

  <header class="mb-16">
    <h1 class="!my-0 pb-2.5">Smart Plant: Soil Moisture Sensor</h1>
    <!-- Page Info -->
<div class="text-sm antialiased opacity-80"><time
      datetime="2025-01-18T00:00:00+00:00">2025-01-18</time><span
        class="mx-1">&middot;</span><time
    datetime="PT0H4M0S">4&nbsp;min</time>
</div>

  </header>
  <figure class="mb-12 mt-0">
    <img
      class="h-auto w-full rounded-lg"
      src="http://ocar.engineer/img/2025-SmartPlant/Sensor2.jpg"
      alt="Himidity Sensors"
      width="768"
      height="288"
    />
  </figure>
  <!-- TOC -->
<div class="block-bg mb-12 rounded-lg p-2 text-lg">
  <details>
    <summary class="select-none py-0.5 lg:py-1 pl-4" accesskey="=">
      <span class="cursor-pointer">Table of Contents</span>
    </summary>
    <div class="px-2">
      <ul>
        <li>
          <a class="no-underline hover:underline" href="http://ocar.engineer/posts/20250118-soilmoisturesensor/#resistive-soil-moisture-sensor">Resistive Soil Moisture Sensor</a>
        </li>
        <li>
          <a class="no-underline hover:underline" href="http://ocar.engineer/posts/20250118-soilmoisturesensor/#diy-solution">DIY Solution</a>
        </li>
        <li>
          <a class="no-underline hover:underline" href="http://ocar.engineer/posts/20250118-soilmoisturesensor/#improving-the-diy-solution">Improving the DIY Solution</a>
        </li>
        <li>
          <a class="no-underline hover:underline" href="http://ocar.engineer/posts/20250118-soilmoisturesensor/#sensor-calibration">Sensor Calibration</a>
        </li>
      </ul>
    </div>
  </details>
</div>

  <!-- Content -->
  <section><p>Last year, I started using my indoor grow tent to plant edible vegetables and, at the same time, implement a control system using IoT. For this, I chose Arduino for its ease of programming and learning in prototyping. The system works very well, but little by little I have been iterating components and improving the system to reach something that gives me peace of mind. Warning: I'm just getting started.</p>
<span id="continue-reading"></span>
<p>In this post, I will not describe the entire process or every part I'm using, but instead, I will focus on a particular component: the soil moisture sensor.</p>
<p><img src="/img/2025-SmartPlant/MiniGarden.jpg" alt="MiniGarden" /></p>
<h2 id="resistive-soil-moisture-sensor">Resistive Soil Moisture Sensor</h2>
<p>There are a variety of soil moisture sensors on the market, both capacitive and resistive. In my case, for simplicity and cost, I decided to use the resistive soil moisture sensor. These are extremely cheap; you can buy them on AliExpress and they are very reliable since they work by measuring the conductivity of electricity in the medium they are inserted into. Simply put, they are two rods that measure how much current passes through the soil where they are buried.</p>
<p><img src="/img/2025-SmartPlant/Sensor1.jpg" alt="Sensor1" /></p>
<p>On AliExpress, a resistive soil moisture sensor costs around USD$1.5, and some can even be found for less than USD$1.</p>
<p>The problem with these sensors is that their durability is extremely limited. After installing my sensor and having it in my garden for 10 days, it started giving strange readings. Upon inspection, I found it was corroded and would soon be unusable. After reading a bit online, I was surprised that, being one of the most widely used sensors, very few people report its short lifespan.</p>
<p><img src="/img/2025-SmartPlant/SensorCorroido.jpg" alt="SensorCorroido" /></p>
<h2 id="diy-solution">DIY Solution</h2>
<p>After some research, someone on a forum suggested using graphite and making your own sensor for greater durability. The concept behind the sensor's short lifespan is the chemical process involved in sensing moisture. Since the sensor operates in soil and moisture, constantly measuring the amount of current transmitted through the soil, the metal layers that make up the sensor tend to corrode. For wet environments, such as potted plants, corrosion is very fast, hence their short usefulness.</p>
<p>Given this, I made my own version of the moisture sensor. I used graphite pencils bought at the supermarket, with a graphite thickness of 3 mm. The result was as follows:</p>
<p><img src="/img/2025-SmartPlant/Sensor2.jpg" alt="Sensor2" /></p>
<p><img src="/img/2025-SmartPlant/Sensor3.jpg" alt="Sensor3" /></p>
<p>The cost of making this sensor is almost zero. The 3 pencils cost almost USD$3 and I used only one.</p>
<p>For the wires, I used Dupont cables, which must cost USD$0.1 or less. And theoretically, the sensor's durability is unlimited since graphite does not corrode like metal.</p>
<h2 id="improving-the-diy-solution">Improving the DIY Solution</h2>
<p>Unfortunately, the decision to use Dupont cables for the sensor's power wires was not a good one. After about 15 days and due to excessive handling on my part, one of the Dupont cables broke.</p>
<p>This led me to improve the power cables. Thus, I created a new iteration of the component, this time using CAT5E network cable. The result was as follows:</p>
<p><img src="/img/2025-SmartPlant/Sensor4.jpeg" alt="Sensor4" /></p>
<p>We'll see if this version lasts longer than the previous one.</p>
<p>In the meantime, the garden is already starting to bear fruit.</p>
<p><img src="/img/2025-SmartPlant/Frutos1.jpg" alt="Frutos1" /></p>
<p><img src="/img/2025-SmartPlant/Frutos2.jpg" alt="Frutos2" /></p>
<h2 id="sensor-calibration">Sensor Calibration</h2>
<p>Calibrating the sensor is another story. If you want to be thorough, there is a strict protocol to follow.</p>
<p>For now, I am drying soil to calibrate my sensor, but that's a topic for another post.</p>
<p>As a record, here is the code I am using to calibrate this type of sensor.</p>
<pre data-lang="C" class="language-C "><code class="language-C" data-lang="C">&#x2F;*
Script for the calibration of Soil Moisture Sensor
Last modified: 01&#x2F;07&#x2F;2025
Working with Arduino Uno R4 wifi
Sensors used: Custom Soil Moisture sensor made out of lead from a pencil.
Any resistive soil moisture sensor can be used. Before the lead pencil one
I used one from aliexpress:
https:&#x2F;&#x2F;www.aliexpress.com&#x2F;item&#x2F;1005006344637182.html
*&#x2F;

#define moistSensorPin A0 &#x2F;&#x2F; Pin for moisture sensor

&#x2F;*
 * Soil Moisture Sensor:
 * ----------------------

 * Output of sensor is either 0 (water) or 1023 (air) by theory.
 *
 * Must be calibrated with this script to be able to read extreme conditions
 * and validate that 0 is water and 1023 is air.
 *
 * Calibration with small pot with soil
 *
 * 256 = full in water
 * 1021 = full in empty air
 
*&#x2F;


&#x2F;&#x2F; Setting up the script
void setup()
{
    Serial.begin(9600);
}

&#x2F;&#x2F; Recurrent loop of the script
void loop()
{
    &#x2F;&#x2F; Variable to store ADC value 
    &#x2F;&#x2F; ADC varies based on voltage( 0 to 1023 )
    int moistureLevel;
    &#x2F;&#x2F; analogRead function returns the integer 10 bit integer (0 to 1023)
    &#x2F;&#x2F; Read pin A0 where moisture sensor is connected
    moistureLevel = analogRead(moistSensorPin); 
  
    &#x2F;&#x2F; Print text in serial monitor
    Serial.println(&quot;Moisture Value: &quot;);
    &#x2F;&#x2F; Print analog value in serial monitor 
    Serial.println(moistureLevel);
    &#x2F;&#x2F;Set a delay of 2 seconds to space the reading
    delay(5000);
}
</code></pre>
</section>
  <hr />
  <!-- Post Taxonomies -->
<footer class="mt-12 flex flex-col" tabindex="-1" accesskey="_">
  <div class="mb-2 flex flex-wrap">
    <span class="block-bg mb-1.5 mr-1.5 rounded-lg px-5 py-1.5">Tags</span>
    
    <a
      class="block-bg block-hover mb-1.5 mr-1.5 rounded-lg px-5 py-1.5 no-underline"
      href="http://ocar.engineer/tags/arduino/">Arduino</a>
    
    <a
      class="block-bg block-hover mb-1.5 mr-1.5 rounded-lg px-5 py-1.5 no-underline"
      href="http://ocar.engineer/tags/gardening/">Gardening</a>
    
    <a
      class="block-bg block-hover mb-1.5 mr-1.5 rounded-lg px-5 py-1.5 no-underline"
      href="http://ocar.engineer/tags/log/">Log</a>
    
    <a
      class="block-bg block-hover mb-1.5 mr-1.5 rounded-lg px-5 py-1.5 no-underline"
      href="http://ocar.engineer/tags/smartplant/">SmartPlant</a>
    
    <a
      class="block-bg block-hover mb-1.5 mr-1.5 rounded-lg px-5 py-1.5 no-underline"
      href="http://ocar.engineer/tags/iot/">IoT</a>
    
  </div>
</footer>

  <!-- Post Nav -->
<nav class="block-bg mt-12 flex flex-wrap rounded-lg text-lg">
  <a
    class="block-hover-mask flex min-w-[50%] grow items-center rounded-l-md p-6 pr-3 font-semibold no-underline"
    href="http://ocar.engineer/posts/20250514-deepseekrequirements/" accesskey=","
    ><span class="mr-1.5">&#8249;</span><span>Running Deepseek locally</span></a>
  <a
    class="block-hover-mask ml-auto flex min-w-[50%] grow items-center justify-end rounded-r-md p-6 pl-3 font-semibold no-underline"
    href="http://ocar.engineer/posts/20241912-istrambim/" accesskey="."
    ><span>Road Modeling with ISTRAM BIM</span><span class="ml-1.5">&#8250;</span></a>
</nav>

  <!-- Begin Page End inject -->
  
  <!-- End Page End inject -->
</article>

  </main>
  <!-- Footer -->
<footer class="mx-auto flex lg:mt-5 max-w-3xl flex-wrap items-center px-4 py-3 text-sm opacity-60">
  <div class="mr-auto basis-full lg:basis-1/2">
  © <time datetime="2024">2024</time> - <time datetime="2025">2025</time> OnBim | <a href="https://creativecommons.org/licenses/by-sa/4.0/deed">CC BY-SA 4.0</a>
  </div>
  <div class="flex basis-full lg:basis-1/2 lg:justify-end">
    <span class="mr-6 lg:ml-6">
      <a class="link" href="https://www.getzola.org/" target="_blank">Powered by Zola</a>
    </span>
    <a class="link" href="https://www.getzola.org/themes/linkita/" target="_blank">&#9998; Linkita</a>
  </div>
  <!-- Begin Footer inject -->
  
  <!-- End Footer inject -->
</footer>

  

  <!-- Begin Body End inject -->
  
  <!-- End Body End inject -->
</body>

</html>
